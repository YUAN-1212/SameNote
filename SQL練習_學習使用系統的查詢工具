-取得資料表檢視表清單
SELECT T.TABLE_NAME, T.TABLE_TYPE
FROM INFORMATION_SCHEMA.TABLES AS T
WHERE T.TABLE_TYPE IN ('BASE TABLE', 'VIEW')
--P194

--取得約束清單
SELECT TC.CONSTRAINT_NAME, TC.TABLE_NAME, TC.CONSTRAINT_TYPE
FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS TC
--P194

--取得沒有主鍵的資料表的清單
SELECT  T.TABLE_NAME
FROM 
	(
	SELECT *
	FROM INFORMATION_SCHEMA.TABLES
	WHERE TABLE_TYPE = 'BASE TABLE'
	)AS T
LEFT JOIN 
	(
	SELECT *
	FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
	WHERE CONSTRAINT_TYPE='PRIMARY KEY'
	) AS TC
ON T.TABLE_NAME = TC.TABLE_NAME
WHERE TC.TABLE_NAME IS NULL
--P195

--取得用於任何檢視表的資料表與欄的清單
SELECT VCU.VIEW_NAME, VCU.TABLE_NAME, VCU.COLUMN_NAME
FROM INFORMATION_SCHEMA.VIEW_COLUMN_USAGE AS VCU
--195

--檢視表的 CREATE VIEW 陳述
CREATE VIEW BeerStyles AS
SELECT Cat.CategoryDS AS Category, Cou.CountryNM AS Country, Sty.StyleNM AS Style, Sty.ABVHighNb AS MaxABV
FROM Styles AS Sty INNER JOIN Categories AS Cat
  ON Sty.CategoryFK = Cat.CategoryID
INNER JOIN Countries AS Cou
  ON Sty.CountryFK = Cou.CountryID;
--P196

--以 SQL SERVER 的系統資料表取得資料表與檢視表清單
SELECT NAME, type_desc
FROM sys.objects
--P197

Effective SQL中文版 | 寫出良好SQL的61個具體做法
