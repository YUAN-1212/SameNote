--SUM OVER 累計
DECLARE @TEMP TABLE(
NAME   VARCHAR(10) NOT NULL,
NUMBER INT NOT NULL
)

INSERT @TEMP VALUES('AA', 50)
INSERT @TEMP VALUES('AA', 51)
INSERT @TEMP VALUES('AA', 52)
INSERT @TEMP VALUES('BB', 50)

SELECT NAME, SUM(NUMBER) OVER(ORDER BY NUMBER) AS SUM
FROM @TEMP

--先分組再壘加
SELECT NAME, SUM(NUMBER) OVER(PARTITION BY NAME ORDER BY NUMBER) AS SUM
FROM @TEMP

SELECT NAME, NUMBER ,SUM(NUMBER) OVER(PARTITION BY NAME ORDER BY NAME) AS SUM
FROM @TEMP

SELECT NAME, NUMBER ,SUM(NUMBER) OVER(PARTITION BY NAME) AS SUM
FROM @TEMP

--取累計完的數字
SELECT DISTINCT NAME, SUM_01
FROM(
	SELECT NAME, SUM(NUMBER) OVER(PARTITION BY NAME) AS SUM_01
	FROM @TEMP
)AS A
